(this["webpackJsonpreact-covid-tracker"]=this["webpackJsonpreact-covid-tracker"]||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},182:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),s=(a(104),a(105),a(185)),l=a(186),u=a(183),i=a(91),d=a(96),m=a(17),f=a.n(m),p=a(34),y=a(15),h=a(97),v=a(41),b=a.n(v),E=function(e,t,a){var c=r.a.createContext();return{Context:c,Provider:function(o){var s=o.children,l=Object(n.useReducer)(e,a),u=Object(h.a)(l,2),i=u[0],d=u[1],m={};for(var f in t)m[f]=t[f](d);return r.a.createElement(c.Provider,{value:Object(y.a)({state:i},m)},s)}}}((function(e,t){switch(t.type){case"fetch_countries_data":return Object(y.a)(Object(y.a)({},e),{},{countries:t.playload.countries,mapCountries:t.playload.data,tableData:t.playload.sortedData});case"fetch_country_info":return Object(y.a)(Object(y.a)({},e),{},{countryInfo:t.playload});case"handle_change_cases_type":return Object(y.a)(Object(y.a)({},e),{},{casesType:t.playload});case"handle_change_country":return Object(y.a)(Object(y.a)({},e),{},{country:t.playload.country,countryInfo:t.playload.data,mapCenter:t.playload.mapCenter,mapZoom:t.playload.zoom});case"fetch_history_data":return Object(y.a)(Object(y.a)({},e),{},{historyData:t.playload.series,historyDays:t.playload.dates});default:return{}}}),{getCountriesData:function(e){return Object(p.a)(f.a.mark((function t(){var a,n,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("https://disease.sh/v3/covid-19/countries");case 2:return a=t.sent,n=a.data,(r=n.map((function(e){return{name:e.country,value:e.countryInfo.iso2}}))).unshift({name:"worldwide",value:"worldwide"}),c=Object(d.a)(n).sort((function(e,t){return t.cases-e.cases})),t.abrupt("return",e({type:"fetch_countries_data",playload:{countries:r,data:n,sortedData:c}}));case 8:case"end":return t.stop()}}),t)})))},getCountryInfo:function(e){return Object(p.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("https://disease.sh/v3/covid-19/all");case 2:return a=t.sent,n=a.data,t.abrupt("return",e({type:"fetch_country_info",playload:n}));case 5:case"end":return t.stop()}}),t)})))},handleChangeCaseTypes:function(e){return function(){var t=Object(p.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e({type:"handle_change_cases_type",playload:a}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},handleChangeCountry:function(e){return function(){var t=Object(p.a)(f.a.mark((function t(a){var n,r,c,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="worldwide"===a?"https://disease.sh/v3/covid-19/all":"https://disease.sh/v3/covid-19/countries/".concat(a),t.next=3,b.a.get(n);case 3:return r=t.sent,c=r.data,o=c.countryInfo?[c.countryInfo.lat,c.countryInfo.long]:[34.80746,-40.4796],4,t.abrupt("return",e({type:"handle_change_country",playload:{country:a,data:c,mapCenter:o,zoom:4}}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fetchHistoryData:function(e){return function(){var t=Object(p.a)(f.a.mark((function t(a,n){var r,c,o,s,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="worldwide"===a?"https://disease.sh/v3/covid-19/historical/all?lastdays=120":"https://disease.sh/v3/covid-19/historical/".concat(a,"?lastdays=120"),t.next=3,b.a.get(r);case 3:return c=t.sent,o=c.data,"worldwide"!==a&&(o=o.timeline),s=[{name:"country",data:Object.values(o[n])}],l=Object.keys(o[n]),t.abrupt("return",e({type:"fetch_history_data",playload:{series:s,dates:l}}));case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}},{country:"worldwide",countryInfo:{},countries:[],mapCountries:[],tableData:[],casesType:"cases",mapCenter:{lat:34.80746,lng:-40.4796},mapZoom:3,historyData:[],historyDays:[]}),g=E.Provider,C=E.Context,w=a(190),x=a(191),O=a(188),j=a(189),_={cases:{hex:"#CC1034",rgb:"rgb(204, 16, 52)",half_op:"rgba(204, 16, 52, 0.5)",multiplier:400},recovered:{hex:"#7dd71d",rgb:"rgb(125, 215, 29)",half_op:"rgba(125, 215, 29, 0.5)",multiplier:800},deaths:{hex:"#fb4443",rgb:"rgb(251, 68, 67)",half_op:"rgba(251, 68, 67, 0.5)",multiplier:2e3}},k=function(e){return e>1e9?Math.round(e/1e8)/10+"Bn":e>1e6?(e/1e6).toFixed(2)+"M":e>1e4?Math.round(e/100)/10+"K":e},D=(a(176),function(){var e=Object(n.useContext)(C).state,t=e.mapCountries,a=e.casesType,c=e.mapCenter,o=e.mapZoom;return r.a.createElement("div",{className:"map"},r.a.createElement(w.a,{center:c,zoom:o},r.a.createElement(x.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases";return e.map((function(e){return r.a.createElement(O.a,{key:e.country,center:[e.countryInfo.lat,e.countryInfo.long],color:_[t].hex,fillColor:_[t].hex,fillOpacity:.4,radius:Math.sqrt(e[t])*_[t].multiplier},r.a.createElement(j.a,null,r.a.createElement("div",{className:"info-container"},r.a.createElement("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),r.a.createElement("div",{className:"info-name"},e.country),r.a.createElement("div",{className:"info-confirmed"},"Cases:",r.a.createElement("div",null,r.a.createElement("span",null,k(e.cases)," "),r.a.createElement("small",null,"+ ",e.todayCases," new"))),r.a.createElement("div",{className:"info-recovered"},"Recovered:",r.a.createElement("div",null,r.a.createElement("span",null,k(e.recovered)," "),r.a.createElement("small",null,"+ ",e.todayRecovered," new"))),r.a.createElement("div",{className:"info-deaths"},"Deaths:",r.a.createElement("div",null,r.a.createElement("span",null,k(e.deaths)," "),r.a.createElement("small",null,"+ ",e.todayDeaths," new"))))))}))}(t,a)))}),I=a(184),N=(a(177),function(e){var t=e.active,a=e.title,n=e.todayAmount,c=e.amount,o=e.styleClassname,s=e.click;return r.a.createElement(u.a,{onClick:s},r.a.createElement(I.a,{className:"card-box ".concat(t?"active":"")},r.a.createElement("h6",null,a),r.a.createElement("div",{className:o},"+ ",k(n)," ",r.a.createElement("small",null,"today")),r.a.createElement("small",null,k(c)," Total")))}),T=function(){var e=Object(n.useContext)(C),t=e.state,a=t.countryInfo,c=t.casesType,o=e.handleChangeCaseTypes;return r.a.createElement(s.a,{className:"mt-2"},r.a.createElement(l.a,{sm:10,md:4},r.a.createElement(N,{active:"cases"===c,title:"Coronavirus Cases",todayAmount:a.todayCases,amount:a.cases,styleClassname:"info-confirmed",click:function(){return o("cases")}})),r.a.createElement(l.a,{sm:10,md:4},r.a.createElement(N,{active:"recovered"===c,title:"Recovered",todayAmount:a.todayRecovered,amount:a.recovered,styleClassname:"info-recovered",click:function(){return o("recovered")}})),r.a.createElement(l.a,{sm:10,md:4},r.a.createElement(N,{active:"deaths"===c,title:"Deaths",todayAmount:a.todayDeaths,amount:a.deaths,styleClassname:"info-deaths",click:function(){return o("deaths")}})))},z=a(187),A=(a(178),function(){var e=Object(n.useContext)(C).state,t=e.tableData,a=e.casesType;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Live ",r.a.createElement("span",{id:"casesType"},a)," by Country"),r.a.createElement("div",{className:"table"},r.a.createElement(z.a,{striped:!0},r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.country},r.a.createElement("td",null,e.country),r.a.createElement("td",{style:{textAlign:"right"}},e[a]))}))))))}),F=a(95),R=a.n(F),H=function(){var e=Object(n.useContext)(C),t=e.fetchHistoryData,a=e.state,c=a.casesType,o=a.country,s=a.historyData,l=a.historyDays;Object(n.useEffect)((function(){t(o,c)}),[o,c]);var u={chart:{type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight",dashArray:[0,8,5]},legend:{tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},markers:{size:0,hover:{sizeOffset:6}},xaxis:{categories:l,labels:{style:{fontSize:"15px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:400,cssClass:"apexcharts-xaxis-label"}}},yaxis:{labels:{formatter:function(e){return k(e)}}},tooltip:{y:[{title:{formatter:function(e){return e}}}]},grid:{borderColor:"#f1f1f1"}};return r.a.createElement("div",null,r.a.createElement("h4",null,"History Data"),r.a.createElement(R.a,{options:u,series:s}))};var M=function(){var e=Object(n.createRef)(),t=Object(n.useContext)(C),a=t.state,c=a.country,o=a.countries,d=t.getCountryInfo,m=t.getCountriesData,f=t.handleChangeCountry;return Object(n.useEffect)((function(){m(),d()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(l.a,{md:12,lg:8},r.a.createElement("div",{className:"app_header"},r.a.createElement("h1",null,"COVID-19 Tracker"),r.a.createElement("div",{className:"dropdown-box"},r.a.createElement(i.DropdownList,{data:o,ref:e,valueField:"value",textField:"name",defaultValue:c,onChange:function(e){return f(e.name)}}))),r.a.createElement(T,null),r.a.createElement(D,null)),r.a.createElement(l.a,{md:12,lg:4},r.a.createElement(u.a,{className:"table_container"},r.a.createElement(A,null)),r.a.createElement(u.a,{className:"chart_container"},r.a.createElement(H,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(180),a(181);o.a.render(r.a.createElement(g,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,t,a){e.exports=a(182)}},[[99,1,2]]]);
//# sourceMappingURL=main.9943ba9a.chunk.js.map